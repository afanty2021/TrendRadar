# trendradar - æ ¸å¿ƒåº”ç”¨æ¨¡å—

[æ ¹ç›®å½•](../CLAUDE.md) > **trendradar/**

> **æœ€åæ›´æ–°**ï¼š2026-01-31 15:19:33
> **æ¨¡å—ç±»å‹**ï¼šæ ¸å¿ƒåº”ç”¨

## æ¨¡å—èŒè´£

trendradar æ˜¯é¡¹ç›®çš„æ ¸å¿ƒåº”ç”¨æ¨¡å—ï¼Œè´Ÿè´£çƒ­ç‚¹æ–°é—»çš„é‡‡é›†ã€åˆ†æã€å­˜å‚¨å’Œé€šçŸ¥æ¨é€å…¨æµç¨‹ã€‚å®ƒå°†æ‰€æœ‰å­æ¨¡å—æ•´åˆåœ¨ä¸€èµ·ï¼Œæä¾›ç»Ÿä¸€çš„å‘½ä»¤è¡Œå…¥å£ `trendradar`ã€‚

## å…¥å£ä¸å¯åŠ¨

### å‘½ä»¤è¡Œå…¥å£
```bash
trendradar                    # è¿è¡Œçƒ­ç‚¹çˆ¬è™«
trendradar-mcp                # è¿è¡Œ MCP æœåŠ¡å™¨
```

### ä¸»å…¥å£æ–‡ä»¶
- **`__main__.py`**ï¼šå‘½ä»¤è¡Œå…¥å£ï¼ŒåŒ…å« `NewsAnalyzer` ç±»å’Œ `main()` å‡½æ•°
- **`context.py`**ï¼šåº”ç”¨ä¸Šä¸‹æ–‡ `AppContext` ç±»ï¼Œå°è£…æ‰€æœ‰ä¾èµ–é…ç½®çš„æ“ä½œ

### æ‰§è¡Œæµç¨‹
```
main()
  â†’ check_all_versions()      # ç‰ˆæœ¬æ£€æŸ¥
  â†’ NewsAnalyzer(config)       # åˆ›å»ºåˆ†æå™¨
  â†’ NewsAnalyzer.run()         # æ‰§è¡Œåˆ†ææµç¨‹
```

## å¯¹å¤–æ¥å£

### ä¸»æµç¨‹ç±»

**NewsAnalyzer**ï¼ˆ`__main__.py`ï¼‰
- `run()`ï¼šæ‰§è¡Œå®Œæ•´çš„åˆ†ææµç¨‹
- `_crawl_data()`ï¼šæ‰§è¡Œæ•°æ®çˆ¬å–
- `_crawl_rss_data()`ï¼šæ‰§è¡Œ RSS æ•°æ®æŠ“å–
- `_execute_mode_strategy()`ï¼šæ‰§è¡Œæ¨¡å¼ç‰¹å®šé€»è¾‘

### åº”ç”¨ä¸Šä¸‹æ–‡

**AppContext**ï¼ˆ`context.py`ï¼‰
- `get_time()`ï¼šè·å–å½“å‰é…ç½®æ—¶åŒºçš„æ—¶é—´
- `get_storage_manager()`ï¼šè·å–å­˜å‚¨ç®¡ç†å™¨ï¼ˆå•ä¾‹ï¼‰
- `load_frequency_words()`ï¼šåŠ è½½å…³é”®è¯é…ç½®
- `count_frequency()`ï¼šç»Ÿè®¡è¯é¢‘
- `prepare_report()`ï¼šå‡†å¤‡æŠ¥å‘Šæ•°æ®
- `generate_html()`ï¼šç”Ÿæˆ HTML æŠ¥å‘Š
- `create_notification_dispatcher()`ï¼šåˆ›å»ºé€šçŸ¥è°ƒåº¦å™¨

## å…³é”®ä¾èµ–ä¸é…ç½®

### å†…éƒ¨ä¾èµ–
```
trendradar/
â”œâ”€â”€ ai/                       # AI åˆ†ææ¨¡å—
â”œâ”€â”€ core/                     # æ ¸å¿ƒåˆ†ææ¨¡å—
â”œâ”€â”€ crawler/                  # æ•°æ®é‡‡é›†æ¨¡å—
â”œâ”€â”€ notification/             # é€šçŸ¥æ¨é€æ¨¡å—
â”œâ”€â”€ report/                   # æŠ¥å‘Šç”Ÿæˆæ¨¡å—
â”œâ”€â”€ storage/                  # å­˜å‚¨ç®¡ç†æ¨¡å—
â””â”€â”€ utils/                    # å·¥å…·å‡½æ•°
```

### å¤–éƒ¨ä¾èµ–
- **config/config.yaml**ï¼šä¸»é…ç½®æ–‡ä»¶
- **config/frequency_words.txt**ï¼šå…³é”®è¯é…ç½®
- **output/**ï¼šæ•°æ®è¾“å‡ºç›®å½•

### é…ç½®åŠ è½½
- `trendradar/core/loader.py`ï¼š`load_config()` å‡½æ•°åŠ è½½é…ç½®

## æ•°æ®æ¨¡å‹

### NewsDataï¼ˆå­˜å‚¨æ•°æ®æ ¼å¼ï¼‰
```python
@dataclass
class NewsData:
    crawl_date: str           # çˆ¬å–æ—¥æœŸ YYYY-MM-DD
    crawl_time: str           # çˆ¬å–æ—¶é—´ HH-MM
    results: Dict             # çˆ¬å–ç»“æœ {platform_id: {title: data}}
    id_to_name: Dict          # å¹³å° ID åˆ°åç§°çš„æ˜ å°„
    failed_ids: List          # å¤±è´¥çš„å¹³å° ID åˆ—è¡¨
```

### RSSDataï¼ˆRSS æ•°æ®æ ¼å¼ï¼‰
```python
@dataclass
class RSSData:
    date: str                 # æ—¥æœŸ YYYY-MM-DD
    feeds: Dict               # RSS æºæ•°æ® {feed_id: RSSFeed}
    id_to_name: Dict          # RSS æº ID åˆ°åç§°çš„æ˜ å°„
```

## æµ‹è¯•ä¸è´¨é‡

**å½“å‰çŠ¶æ€**ï¼šæœªé…ç½®æµ‹è¯•

**å»ºè®®æµ‹è¯•è¦†ç›–**ï¼š
- `NewsAnalyzer.run()`ï¼šä¸»æµç¨‹æµ‹è¯•
- `AppContext`ï¼šä¸Šä¸‹æ–‡æ–¹æ³•æµ‹è¯•
- ç‰ˆæœ¬æ£€æŸ¥é€»è¾‘æµ‹è¯•

## å¸¸è§é—®é¢˜ (FAQ)

### Q1: å¦‚ä½•å•ç‹¬è¿è¡ŒæŸä¸ªæ¨¡å—ï¼Ÿ

**A**: ä½¿ç”¨ Python æ¨¡å—æ‰§è¡Œï¼š
```bash
python -m trendradar
```

### Q2: å¦‚ä½•è°ƒè¯•é…ç½®åŠ è½½é—®é¢˜ï¼Ÿ

**A**: åœ¨ `__main__.py` ä¸­å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼š
```python
# config.yaml
advanced:
  debug: true
```

## ç›¸å…³æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒæ–‡ä»¶
- `__init__.py`ï¼šåŒ…åˆå§‹åŒ–ï¼Œç‰ˆæœ¬å®šä¹‰ `__version__ = "5.5.2"`
- `__main__.py`ï¼šå‘½ä»¤è¡Œå…¥å£ï¼Œçº¦ 1674 è¡Œ
- `context.py`ï¼šåº”ç”¨ä¸Šä¸‹æ–‡ï¼Œçº¦ 475 è¡Œ

### é…ç½®æ–‡ä»¶
- `../config/config.yaml`ï¼šä¸»é…ç½®æ–‡ä»¶
- `../config/frequency_words.txt`ï¼šå…³é”®è¯é…ç½®
- `../config/ai_analysis_prompt.txt`ï¼šAI åˆ†ææç¤ºè¯

## å˜æ›´è®°å½• (Changelog)

### 2026-01-31 15:19:33
- âœ¨ åˆ›å»ºæ¨¡å—æ–‡æ¡£
- ğŸ“Š å®Œæˆæ¥å£ä¸ä¾èµ–åˆ†æ

---

*æœ¬æ–‡æ¡£ç”± AI è‡ªåŠ¨ç”Ÿæˆå¹¶ç»´æŠ¤*
